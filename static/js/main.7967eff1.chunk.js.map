{"version":3,"sources":["Components/Modal/Modal.module.css","Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Container/Container.module.css","Components/Button/Button.module.css","Components/ImageGalleryView/ImageGalleryView.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Container/Container.js","hooks/hooks.js","Components/Searchbar/Searchbar.js","Components/Button/Button.js","services/pixabay-api.js","images/initialScreenPlaceholder.jpg","images/errorPlaceholder.jpg","Components/Modal/Modal.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","Components/ImageGalleryView/ImageGalleryView.js","Components/App/App.js","reportWebVitals.js","index.js","Components/Searchbar/Searchbar.module.css"],"names":["module","exports","Container","children","className","styles","container","customHooks","useStateWithLabel","initialValue","name","useState","value","setValue","useDebugValue","usePrevious","ref","useRef","useEffect","current","Searchbar","getSearchQuery","btn","s","searchbar","form","onSubmit","e","preventDefault","query","toLowerCase","trim","toast","error","blur","type","Provider","size","input","placeholder","onChange","target","Button","updateSearchPage","onClick","KEY","BASE_URL","searchQuery","a","page","url","getData","then","response","fetch","images","json","api","fetchImages","modalRoot","document","querySelector","Modal","toggleModal","handleModalClosureOnEsc","code","window","addEventListener","removeEventListener","createPortal","backdrop","currentTarget","content","closeIcon","ImageGalleryItem","image","showBigImageInModal","item","src","webformatURL","previewURL","loading","style","opacity","alt","tags","data-image","largeImageURL","ImageGallery","gallery","map","id","Status","ImageGalleryView","resetSearchPage","updateImageAvialability","setImages","totalSearchResults","setTotalSearchResults","status","setStatus","modalIsOpen","setModalIsOpen","imageInModal","setImageInModal","activeImage","setActiveImage","prevQuery","imageAPI","console","log","totalHits","hits","length","catch","result","prevPage","state","finally","data","scrollTo","top","documentElement","scrollHeight","behavior","initialScreenPlaceholder","css","color","errorPlaceholder","dataset","App","setSearchQuery","searchPage","setSearchPage","moreImagesAvailable","setMoreImagesAvailable","autoClose","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,SAAW,wBAAwB,QAAU,uBAAuB,UAAY,2B,mBCAlGD,EAAOC,QAAU,CAAC,KAAO,+BAA+B,MAAQ,kC,mBCAhED,EAAOC,QAAU,CAAC,UAAY,+B,mBCA9BD,EAAOC,QAAU,CAAC,IAAM,sB,mBCAxBD,EAAOC,QAAU,CAAC,MAAQ,kC,mBCA1BD,EAAOC,QAAU,CAAC,QAAU,gC,sJCCb,SAASC,EAAT,GAAkC,IAAbC,EAAY,EAAZA,SAClC,OAAO,qBAAKC,UAAWC,IAAOC,UAAvB,SAAmCH,I,mBCa5C,IAKeI,EALK,CAClBC,kBAfF,SAA2BC,EAAcC,GAAO,IAAD,EACnBC,mBAASF,GADU,mBACtCG,EADsC,KAC/BC,EAD+B,KAG7C,OADAC,wBAAc,GAAD,OAAIJ,EAAJ,aAAaE,IACnB,CAACA,EAAOC,IAafE,YAVF,SAAqBH,GACnB,IAAMI,EAAMC,mBAIZ,OAHAC,qBAAU,WACRF,EAAIG,QAAUP,KAETI,EAAIG,U,gBCLLX,EAAsBD,EAAtBC,kBAwCOY,MAtCf,YAAwC,IAAnBC,EAAkB,EAAlBA,eAAkB,EACXb,EAAkB,GAAI,SADX,mBAC9BI,EAD8B,KACvBC,EADuB,KAG/BS,EAAML,iBAAO,MAenB,OACE,wBAAQb,UAAWmB,IAAEC,UAArB,SACE,uBAAMpB,UAAWmB,IAAEE,KAAMC,SAfR,SAAAC,GACnBA,EAAEC,iBACF,IAAMC,EAAQjB,EAAMkB,cAAcC,OAClC,GAAc,KAAVF,EAGF,OAFAG,IAAMC,MAAM,6BACZX,EAAIH,QAAQe,OAGdb,EAAeQ,GACfhB,EAAS,IACTS,EAAIH,QAAQe,QAKV,UACE,wBAAQC,KAAK,SAAS/B,UAAWmB,IAAED,IAAKN,IAAKM,EAA7C,SACE,cAAC,IAAYc,SAAb,CAAsBxB,MAAO,CAAEyB,KAAM,QAArC,SACE,cAAC,IAAD,QAGJ,uBACEjC,UAAWmB,IAAEe,MACbH,KAAK,OACLvB,MAAOA,EACP2B,YAAY,2BACZC,SAAU,SAAAb,GAAC,OAAId,EAASc,EAAEc,OAAO7B,gB,iBC7B5B8B,MARf,YAAuC,IAArBC,EAAoB,EAApBA,iBAChB,OACE,wBAAQvC,UAAWmB,IAAED,IAAKsB,QAASD,EAAnC,wB,oGCNEE,EAAM,qCACNC,EAAQ,2B,4CAEd,WAA2BC,GAA3B,6BAAAC,EAAA,6DAAwCC,EAAxC,+BAA+C,EACvCC,EADR,UACiBJ,EADjB,sDACuEC,EADvE,iBAC2FE,EAD3F,4BACmHJ,GADnH,kBAGSM,EAAQD,GAAKE,MAAK,SAAAC,GACvB,OAAOA,MAJX,4C,+BAQeF,E,8EAAf,WAAuBD,GAAvB,iBAAAF,EAAA,sEACuBM,MAAMJ,GAD7B,cACQK,EADR,gBAEyBA,EAAOC,OAFhC,cAEQH,EAFR,yBAGSA,GAHT,4C,sBAMA,IAIeI,EAJH,CACVC,Y,6CClBa,MAA0B,qDCA1B,MAA0B,6C,yBCOnCC,EAAYC,SAASC,cAAc,eAoC1BC,MAlCf,YAA2C,IAA1BC,EAAyB,EAAzBA,YAAa5D,EAAY,EAAZA,SAmB5B,OAlBAe,qBAAU,WACR,IAAM8C,EAA0B,SAAArC,GACf,WAAXA,EAAEsC,MACJF,KAIJ,OADAG,OAAOC,iBAAiB,UAAWH,GAC5B,WACLE,OAAOE,oBAAoB,UAAWJ,OAUnCK,uBACL,qBAAKjE,UAAWmB,IAAE+C,SAAU1B,QAPF,SAAAjB,GACtBA,EAAEc,SAAWd,EAAE4C,eACjBR,KAKF,SACE,sBAAK3D,UAAWmB,IAAEiD,QAAlB,UACE,wBAAQpE,UAAWmB,IAAEkD,UAAW7B,QAAS,kBAAMmB,KAA/C,SACE,cAAC,IAAY3B,SAAb,CAAsBxB,MAAO,CAAEyB,KAAM,QAArC,SACE,cAAC,IAAD,QAGHlC,OAGLwD,I,kCCfWe,MAnBf,YAA2D,IAA/BC,EAA8B,EAA9BA,MAAOC,EAAuB,EAAvBA,oBACjC,OACE,oBAAIxE,UAAWmB,IAAEsD,KAAjB,SACE,cAAC,IAAD,CAAkBC,IAAKH,EAAMI,aAAcxC,YAAaoC,EAAMK,WAA9D,SACG,SAACF,EAAKG,GAAN,OACC,qBACEC,MAAO,CAAEC,QAASF,EAAU,GAAM,GAClCH,IAAKA,EACLM,IAAKT,EAAMU,KACXC,aAAYX,EAAMY,cAClBnF,UAAWmB,IAAEoD,MACb/B,QAASgC,UCMNY,MAjBf,YAAwD,IAAhCjC,EAA+B,EAA/BA,OAAQqB,EAAuB,EAAvBA,oBAC9B,OACE,oBAAIxE,UAAWmB,IAAEkE,QAAjB,SACGlC,GACCA,EAAOmC,KAAI,SAAAf,GACT,OACE,cAAC,EAAD,CACEA,MAAOA,EACPC,oBAAqBA,GAChBD,EAAMgB,U,yHCAzB,IAAMC,GACE,OADFA,GAEK,UAFLA,GAGM,WAHNA,GAIM,WAGJpF,GAAmCD,EAAnCC,kBAAmBO,GAAgBR,EAAhBQ,YAuKZ8E,OArKf,YAKI,IAJF9C,EAIC,EAJDA,YACAE,EAGC,EAHDA,KACA6C,EAEC,EAFDA,gBACAC,EACC,EADDA,wBACC,EAC2BvF,GAAkB,KAAM,UADnD,mBACM+C,EADN,KACcyC,EADd,OAEmDxF,GAClD,KACA,sBAJD,mBAEMyF,EAFN,KAE0BC,EAF1B,OAM2B1F,GAAkBoF,GAAa,UAN1D,mBAMMO,EANN,KAMcC,EANd,OAOqC5F,IAAkB,EAAO,eAP9D,mBAOM6F,EAPN,KAOmBC,EAPnB,OAQuC9F,GAAkB,GAAI,gBAR7D,mBAQM+F,EARN,KAQoBC,EARpB,OASqChG,GAAkB,GAAI,eAT3D,mBASMiG,EATN,KASmBC,EATnB,KAWKC,EAAY5F,GAAYgC,GAE9B7B,qBAAU,WACJyF,IAAc5D,GAA+B,KAAhBA,IAC/B+C,IACAM,EAAUR,IAEVgB,EACGlD,YAAYX,GACZK,MAAK,SAAAG,GAEJ,OADAsD,QAAQC,IAAIvD,GACa,IAArBA,EAAOwD,WACT/E,IAAMC,MAAN,wBACmBc,EADnB,qCAGAqD,EAAUR,KAGe,IAAvBrC,EAAOyD,KAAKC,QACdjF,IAAMC,MAAN,4FAGAmE,EAAUR,MAGZI,EAAUzC,EAAOyD,MACjBd,EAAsB3C,EAAOwD,gBAC7BX,EAAUR,QAEXsB,OAAM,SAAAjF,GACLmE,EAAUR,UAGf,CACDe,EACAb,EACA/C,EACAiD,EACAI,EACAF,EACAH,IAGF7E,qBAAU,WACR,GAAIqC,GAAU4C,IAAWP,GAAiB,CACxC,IAAMuB,EAASlB,EAAqB1C,EAAO0D,OAC3ClB,EAAwBoB,QAExBpB,GAAwB,KAEzB,CAACxC,EAAQ4C,EAAQF,EAAoBF,IAExC,IAAMqB,EAAWrG,GAAYkC,GAE7B/B,qBAAU,WACJkG,EAAWnE,GACb2D,EACGlD,YAAYX,EAAaE,GACzBG,MAAK,SAAAG,GACJyC,GAAU,SAAAqB,GACR,MAAM,GAAN,mBAAWA,GAAX,YAAqB9D,EAAOyD,aAG/BE,OAAM,SAAAjF,GACLmE,EAAUR,OAEX0B,SAAQ,SAAAC,GACPrD,OAAOsD,SAAS,CACdC,IAAK7D,SAAS8D,gBAAgBC,aAAe,KAC7CC,SAAU,gBAIjB,CACD3E,EACAmE,EACArE,EACAiD,EACAI,EACAL,IAGF,IAAMhC,EAAc,WAClBuC,GAAe,SAAAe,GAAK,OAAKA,KACzBb,EAAgB,IAChBE,EAAe,KASjB,OAAIP,IAAWP,GAEX,8BACE,qBAAKd,IAAK+C,EAA0BzC,IAAI,2BAKxCe,IAAWP,GAEP,cAAC,IAAD,CACEkC,IAAKA,YAAF,MAGFzF,KAAM,IACN0F,MAAO,SACP9C,SAAS,IAKlBkB,IAAWP,GAEX,8BACE,qBAAKd,IAAKkD,EAAkB5C,IAAI,YAKlCe,IAAWP,GAEX,qCACE,cAAC,EAAD,CACErC,OAAQA,EACRqB,oBAxCoB,SAAAjD,GAC1BoC,IACAyC,GAAgB,SAAAa,GAAK,OAAKA,EAAQ,GAAK1F,EAAEc,OAAOwF,QAAQtD,SACxD+B,GAAe,SAAAW,GAAK,OAAKA,EAAQ,GAAK1F,EAAEc,OAAOqC,UAuC1CuB,GACC,cAAC,EAAD,CAAOtC,YAAaA,EAApB,SACE,cAAC,IAAD,CAAkBe,IAAKyB,EAAchE,YAAakE,EAAlD,SACG,SAAC3B,EAAKG,GAAN,OACC,qBACEC,MAAO,CAAEC,QAASF,EAAU,GAAM,GAClCH,IAAKA,EACLM,IAAI,GACJhF,UAAWmB,IAAEoD,qBAf7B,GCzJMnE,GAAsBD,EAAtBC,kBA2BO0H,OAzBf,WAAgB,IAAD,EACyB1H,GAAkB,GAAI,eAD/C,mBACNuC,EADM,KACOoF,EADP,OAEuB3H,GAAkB,EAAG,cAF5C,mBAEN4H,EAFM,KAEMC,EAFN,OAGyC7H,IACpD,EACA,uBALW,mBAGN8H,EAHM,KAGeC,EAHf,KAQb,OACE,eAACrI,EAAD,WACE,cAAC,EAAD,CAAWmB,eAAgB,SAAAQ,GAAK,OAAIsG,EAAetG,MACnD,cAAC,GAAD,CACEkB,YAAaA,EACbE,KAAMmF,EACNtC,gBAAiB,kBAAMuC,EAAc,IACrCtC,wBAAyB,SAAAI,GAAM,OAAIoC,EAAuBpC,MAE3DmC,GACC,cAAC,EAAD,CAAQ3F,iBAAkB,kBAAM0F,GAAc,SAAAhB,GAAK,OAAIA,EAAQ,QAEjE,cAAC,IAAD,CAAgBmB,UAAW,UCnBlBC,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBvF,MAAK,YAAkD,IAA/CwF,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,MAEFvF,SAASwF,eAAe,SAM1BX,M,kBCfAzI,EAAOC,QAAU,CAAC,UAAY,6BAA6B,KAAO,wBAAwB,MAAQ,yBAAyB,IAAM,uBAAuB,cAAc,kC","file":"static/js/main.7967eff1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__1SpeL\",\"content\":\"Modal_content__1ukYV\",\"closeIcon\":\"Modal_closeIcon__XwIWv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ImageGalleryItem_item__vDMHR\",\"image\":\"ImageGalleryItem_image__3LzOK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__3IZbh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"Button_btn__1XeQF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"image\":\"ImageGalleryView_image__1pySI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__39a0W\"};","import styles from './Container.module.css';\r\n\r\nexport default function Container({ children }) {\r\n  return <div className={styles.container}>{children}</div>;\r\n}","import { useDebugValue, useState, useEffect, useRef } from 'react';\r\n\r\nfunction useStateWithLabel(initialValue, name) {\r\n  const [value, setValue] = useState(initialValue);\r\n  useDebugValue(`${name}: ${value}`);\r\n  return [value, setValue];\r\n}\r\n\r\nfunction usePrevious(value) {\r\n  const ref = useRef();\r\n  useEffect(() => {\r\n    ref.current = value;\r\n  });\r\n  return ref.current;\r\n}\r\n\r\nconst customHooks = {\r\n  useStateWithLabel,\r\n  usePrevious,\r\n};\r\n\r\nexport default customHooks;","import React, { useRef } from 'react';\r\nimport { FiSearch } from 'react-icons/fi';\r\nimport { IconContext } from 'react-icons';\r\nimport { toast } from 'react-toastify';\r\nimport PropTypes from 'prop-types';\r\nimport customHooks from '../../hooks/hooks.js';\r\nimport s from './Searchbar.module.css';\r\n\r\nconst { useStateWithLabel } = customHooks;\r\n\r\nfunction Searchbar({ getSearchQuery }) {\r\n  const [value, setValue] = useStateWithLabel('', 'value');\r\n\r\n  const btn = useRef(null);\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    const query = value.toLowerCase().trim();\r\n    if (query === '') {\r\n      toast.error('Please enter a query');\r\n      btn.current.blur();\r\n      return;\r\n    }\r\n    getSearchQuery(query);\r\n    setValue('');\r\n    btn.current.blur();\r\n  };\r\n\r\n  return (\r\n    <header className={s.searchbar}>\r\n      <form className={s.form} onSubmit={handleSubmit}>\r\n        <button type=\"submit\" className={s.btn} ref={btn}>\r\n          <IconContext.Provider value={{ size: '16px' }}>\r\n            <FiSearch />\r\n          </IconContext.Provider>\r\n        </button>\r\n        <input\r\n          className={s.input}\r\n          type=\"text\"\r\n          value={value}\r\n          placeholder=\"Search images and photos\"\r\n          onChange={e => setValue(e.target.value)}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Searchbar;\r\n\r\nSearchbar.propTypes = {\r\n  getSearchQuery: PropTypes.func.isRequired,\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './Button.module.css';\r\n\r\nfunction Button({ updateSearchPage }) {\r\n  return (\r\n    <button className={s.btn} onClick={updateSearchPage}>\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default Button;\r\n\r\nButton.propTypes = {\r\n  updateSearchPage: PropTypes.func.isRequired,\r\n};","const KEY = '18962627-3cde470dd8252503102b1f7f8';\r\nconst BASE_URL = `https://pixabay.com/api/`;\r\n\r\nasync function fetchImages(searchQuery, page = 1) {\r\n  const url = `${BASE_URL}?image_type=photo&orientation=horizontal&q=${searchQuery}&page=${page}&per_page=12&key=${KEY}`;\r\n\r\n  return getData(url).then(response => {\r\n    return response;\r\n  });\r\n}\r\n\r\nasync function getData(url) {\r\n  const images = await fetch(url);\r\n  const response = await images.json();\r\n  return response;\r\n}\r\n\r\nconst api = {\r\n  fetchImages,\r\n};\r\n\r\nexport default api;","export default __webpack_public_path__ + \"static/media/initialScreenPlaceholder.6b48318a.jpg\";","export default __webpack_public_path__ + \"static/media/errorPlaceholder.8bd4b3d9.jpg\";","import React, { useEffect } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport { FaWindowClose } from 'react-icons/fa';\r\nimport { IconContext } from 'react-icons';\r\nimport PropTypes from 'prop-types';\r\nimport s from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nfunction Modal({ toggleModal, children }) {\r\n  useEffect(() => {\r\n    const handleModalClosureOnEsc = e => {\r\n      if (e.code === 'Escape') {\r\n        toggleModal();\r\n      }\r\n    };\r\n    window.addEventListener('keydown', handleModalClosureOnEsc);\r\n    return () => {\r\n      window.removeEventListener('keydown', handleModalClosureOnEsc);\r\n    };\r\n  });\r\n\r\n  const handleBackdropClick = e => {\r\n    if (e.target === e.currentTarget) {\r\n      toggleModal();\r\n    }\r\n  };\r\n\r\n  return createPortal(\r\n    <div className={s.backdrop} onClick={handleBackdropClick}>\r\n      <div className={s.content}>\r\n        <button className={s.closeIcon} onClick={() => toggleModal()}>\r\n          <IconContext.Provider value={{ size: '36px' }}>\r\n            <FaWindowClose />\r\n          </IconContext.Provider>\r\n        </button>\r\n        {children}\r\n      </div>\r\n    </div>,\r\n    modalRoot,\r\n  );\r\n}\r\n\r\nexport default Modal;\r\n\r\nModal.propTypes = {\r\n  toggleModal: PropTypes.func.isRequired,\r\n};","import React from 'react';\r\nimport ProgressiveImage from 'react-progressive-image';\r\nimport PropTypes from 'prop-types';\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nfunction ImageGalleryItem({ image, showBigImageInModal }) {\r\n  return (\r\n    <li className={s.item}>\r\n      <ProgressiveImage src={image.webformatURL} placeholder={image.previewURL}>\r\n        {(src, loading) => (\r\n          <img\r\n            style={{ opacity: loading ? 0.5 : 1 }}\r\n            src={src}\r\n            alt={image.tags}\r\n            data-image={image.largeImageURL}\r\n            className={s.image}\r\n            onClick={showBigImageInModal}\r\n          />\r\n        )}\r\n      </ProgressiveImage>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n\r\nImageGalleryItem.propTypes = {\r\n  showBigImageInModal: PropTypes.func.isRequired,\r\n  image: PropTypes.object.isRequired,\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './ImageGallery.module.css';\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\n\r\nfunction ImageGallery({ images, showBigImageInModal }) {\r\n  return (\r\n    <ul className={s.gallery}>\r\n      {images &&\r\n        images.map(image => {\r\n          return (\r\n            <ImageGalleryItem\r\n              image={image}\r\n              showBigImageInModal={showBigImageInModal}\r\n              key={image.id}\r\n            />\r\n          );\r\n        })}\r\n    </ul>\r\n  );\r\n}\r\n\r\nexport default ImageGallery;\r\n\r\nImageGallery.propTypes = {\r\n  showBigImageInModal: PropTypes.func.isRequired,\r\n  images: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n};","import React, { useEffect } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport { css } from '@emotion/react';\r\nimport RingLoader from 'react-spinners/RingLoader';\r\nimport ProgressiveImage from 'react-progressive-image';\r\nimport PropTypes from 'prop-types';\r\nimport s from './ImageGalleryView.module.css';\r\nimport imageAPI from '../../services/pixabay-api';\r\nimport initialScreenPlaceholder from '../../images/initialScreenPlaceholder.jpg';\r\nimport errorPlaceholder from '../../images/errorPlaceholder.jpg';\r\nimport Modal from '../Modal';\r\nimport ImageGallery from '../ImageGallery';\r\nimport customHooks from '../../hooks/hooks.js';\r\n\r\nconst Status = {\r\n  IDLE: 'idle',\r\n  PENDING: 'pending',\r\n  RESOLVED: 'resolved',\r\n  REJECTED: 'rejected',\r\n};\r\n\r\nconst { useStateWithLabel, usePrevious } = customHooks;\r\n\r\nfunction ImageGalleryView({\r\n  searchQuery,\r\n  page,\r\n  resetSearchPage,\r\n  updateImageAvialability,\r\n}) {\r\n  const [images, setImages] = useStateWithLabel(null, 'images');\r\n  const [totalSearchResults, setTotalSearchResults] = useStateWithLabel(\r\n    null,\r\n    'totalSearchResults',\r\n  );\r\n  const [status, setStatus] = useStateWithLabel(Status.IDLE, 'status');\r\n  const [modalIsOpen, setModalIsOpen] = useStateWithLabel(false, 'modalIsOpen');\r\n  const [imageInModal, setImageInModal] = useStateWithLabel('', 'imageInModal');\r\n  const [activeImage, setActiveImage] = useStateWithLabel('', 'activeImage');\r\n\r\n  const prevQuery = usePrevious(searchQuery);\r\n\r\n  useEffect(() => {\r\n    if (prevQuery !== searchQuery && searchQuery !== '') {\r\n      resetSearchPage();\r\n      setStatus(Status.PENDING);\r\n\r\n      imageAPI\r\n        .fetchImages(searchQuery)\r\n        .then(images => {\r\n          console.log(images);\r\n          if (images.totalHits === 0) {\r\n            toast.error(\r\n              `No images for ${searchQuery}. Please try another query.`,\r\n            );\r\n            setStatus(Status.REJECTED);\r\n            return;\r\n          }\r\n          if (images.hits.length === 0) {\r\n            toast.error(\r\n              `Oops! Pixabay failed us and forgot to send images. Please refresh page & try again.`,\r\n            );\r\n            setStatus(Status.REJECTED);\r\n            return;\r\n          }\r\n          setImages(images.hits);\r\n          setTotalSearchResults(images.totalHits);\r\n          setStatus(Status.RESOLVED);\r\n        })\r\n        .catch(error => {\r\n          setStatus(Status.REJECTED);\r\n        });\r\n    }\r\n  }, [\r\n    prevQuery,\r\n    resetSearchPage,\r\n    searchQuery,\r\n    setImages,\r\n    setStatus,\r\n    setTotalSearchResults,\r\n    updateImageAvialability,\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    if (images && status === Status.RESOLVED) {\r\n      const result = totalSearchResults > images.length ? true : false;\r\n      updateImageAvialability(result);\r\n    } else {\r\n      updateImageAvialability(false);\r\n    }\r\n  }, [images, status, totalSearchResults, updateImageAvialability]);\r\n\r\n  const prevPage = usePrevious(page);\r\n\r\n  useEffect(() => {\r\n    if (prevPage < page) {\r\n      imageAPI\r\n        .fetchImages(searchQuery, page)\r\n        .then(images => {\r\n          setImages(state => {\r\n            return [...state, ...images.hits];\r\n          });\r\n        })\r\n        .catch(error => {\r\n          setStatus(Status.REJECTED);\r\n        })\r\n        .finally(data => {\r\n          window.scrollTo({\r\n            top: document.documentElement.scrollHeight - 1300,\r\n            behavior: 'smooth',\r\n          });\r\n        });\r\n    }\r\n  }, [\r\n    page,\r\n    prevPage,\r\n    searchQuery,\r\n    setImages,\r\n    setStatus,\r\n    updateImageAvialability,\r\n  ]);\r\n\r\n  const toggleModal = () => {\r\n    setModalIsOpen(state => !state);\r\n    setImageInModal('');\r\n    setActiveImage('');\r\n  };\r\n\r\n  const showBigImageInModal = e => {\r\n    toggleModal();\r\n    setImageInModal(state => (state ? '' : e.target.dataset.image));\r\n    setActiveImage(state => (state ? '' : e.target.src));\r\n  };\r\n\r\n  if (status === Status.IDLE) {\r\n    return (\r\n      <div>\r\n        <img src={initialScreenPlaceholder} alt=\"please enter a query\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n    if (status === Status.PENDING) {\r\n        return (\r\n            <RingLoader\r\n              css={css`\r\n               margin-top: 80px;\r\n              `}\r\n               size={200}\r\n               color={'purple'}\r\n               loading={true}\r\n            />\r\n    );\r\n  }\r\n\r\n  if (status === Status.REJECTED) {\r\n    return (\r\n      <div>\r\n        <img src={errorPlaceholder} alt=\"error\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (status === Status.RESOLVED) {\r\n    return (\r\n      <>\r\n        <ImageGallery\r\n          images={images}\r\n          showBigImageInModal={showBigImageInModal}\r\n        />\r\n        {modalIsOpen && (\r\n          <Modal toggleModal={toggleModal}>\r\n            <ProgressiveImage src={imageInModal} placeholder={activeImage}>\r\n              {(src, loading) => (\r\n                <img\r\n                  style={{ opacity: loading ? 0.5 : 1 }}\r\n                  src={src}\r\n                  alt=\"\"\r\n                  className={s.image}\r\n                />\r\n              )}\r\n            </ProgressiveImage>\r\n          </Modal>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGalleryView;\r\n\r\nImageGalleryView.propTypes = {\r\n  searchQuery: PropTypes.string.isRequired,\r\n  page: PropTypes.number.isRequired,\r\n  resetSearchPage: PropTypes.func.isRequired,\r\n  updateImageAvialability: PropTypes.func.isRequired,\r\n};\r\n                \r\n","import React from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Container from '../Container';\nimport Searchbar from '../Searchbar';\nimport Button from '../Button';\nimport ImageGalleryView from '../ImageGalleryView';\nimport customHooks from '../../hooks/hooks';\n\nconst { useStateWithLabel } = customHooks;\n\nfunction App() {\n  const [searchQuery, setSearchQuery] = useStateWithLabel('', 'searchQuery');\n  const [searchPage, setSearchPage] = useStateWithLabel(1, 'searchPage');\n  const [moreImagesAvailable, setMoreImagesAvailable] = useStateWithLabel(\n    false,\n    'moreImagesAvailable',\n  );\n\n  return (\n    <Container>\n      <Searchbar getSearchQuery={query => setSearchQuery(query)} />\n      <ImageGalleryView\n        searchQuery={searchQuery}\n        page={searchPage}\n        resetSearchPage={() => setSearchPage(1)}\n        updateImageAvialability={status => setMoreImagesAvailable(status)}\n      />\n      {moreImagesAvailable && (\n        <Button updateSearchPage={() => setSearchPage(state => state + 1)} />\n      )}\n      <ToastContainer autoClose={3000} />\n    </Container>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from '../src/Components/App/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__37QUO\",\"form\":\"Searchbar_form__1hoBD\",\"input\":\"Searchbar_input__3kKeG\",\"btn\":\"Searchbar_btn__1AtKX\",\"react-icons\":\"Searchbar_react-icons__19UOg\"};"],"sourceRoot":""}